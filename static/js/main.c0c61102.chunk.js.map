{"version":3,"sources":["Components/PokeCard/PokeCard.jsx","App.js","index.js"],"names":["PokeCard","className","cardRef","useRef","styleRef","timeoutRef","useEffect","current","fn","e","pos","offsetX","offsetY","preventDefault","type","touches","clientX","clientY","l","t","h","clientHeight","w","clientWidth","px","Math","abs","floor","py","pa","lp","tp","px_spark","py_spark","p_opc","ty","tx","grad_pos","sprk_pos","opc","tf","style","classList","remove","setAttribute","innerHTML","clearTimeout","fnMouseOut","setTimeout","add","addEventListener","removeEventListener","ref","class","App","id","rootElement","document","getElementById","createRoot","render"],"mappings":"oJAiFeA,EA/EE,SAAC,GAAsC,IAAD,IAAnCC,iBAAmC,MAAvB,iBAAuB,EAG/CC,EAAUC,mBACVC,EAAWD,mBACXE,EAAaF,mBAkEnB,OA/DAG,qBAAU,WACR,GAAIJ,EAAQK,SAAWH,EAASG,QAAS,CACvC,IAAMC,EAAK,SAACC,GAEV,IAAIC,EAAM,CAACD,EAAEE,QAASF,EAAEG,SACxBH,EAAEI,iBACa,cAAXJ,EAAEK,OACJJ,EAAM,CAACD,EAAEM,QAAQ,GAAGC,QAASP,EAAEM,QAAQ,GAAGE,UAG5C,IAAIC,EAAIR,EAAI,GACRS,EAAIT,EAAI,GACRU,EAAIlB,EAAQK,QAAQc,aACpBC,EAAIpB,EAAQK,QAAQgB,YACpBC,EAAKC,KAAKC,IAAID,KAAKE,MAAO,IAAML,EAAKJ,GAAK,KAC1CU,EAAKH,KAAKC,IAAID,KAAKE,MAAO,IAAMP,EAAKD,GAAK,KAC1CU,EAAK,GAAKL,GAAM,GAAKI,GAErBE,EAAK,IAAMN,EAAK,IAAM,IACtBO,EAAK,IAAMH,EAAK,IAAM,IACtBI,EAAW,IAAMR,EAAK,IAAM,EAC5BS,EAAW,IAAML,EAAK,IAAM,EAC5BM,EAAQ,GAAoB,IAAfT,KAAKC,IAAIG,GACtBM,GAAOJ,EAAK,IAAM,GAAM,EACxBK,GAAON,EAAK,IAAM,IAAO,GAEzBO,EAAQ,+BAA2BP,EAA3B,aAAkCC,EAAlC,MACRO,EAAQ,+BAA2BN,EAA3B,aAAwCC,EAAxC,MACRM,EAAG,mBAAeL,EAAQ,IAAvB,KACHM,EAAE,6BAAyBL,EAAzB,wBAA2CC,EAA3C,QAEFK,EAAK,mCACQJ,EADR,qDAEOC,EAFP,YAEmBC,EAFnB,0BAST,GAJArC,EAAQK,QAAQmC,UAAUC,OAAO,YACjCzC,EAAQK,QAAQqC,aAAa,QAASJ,GACtCpC,EAASG,QAAQsC,UAAYJ,EAEd,cAAXhC,EAAEK,KACJ,OAAO,EAETgC,aAAazC,EAAWE,UAGpBwC,EAAa,SAACtC,GAClBL,EAASG,QAAQsC,UAAY,GAC7B3C,EAAQK,QAAQqC,aAAa,QAAS,IACtCvC,EAAWE,QAAUyC,YAAW,WAC9B9C,EAAQK,QAAQmC,UAAUO,IAAI,cAC7B,OAKL,OAFA/C,EAAQK,QAAQ2C,iBAAiB,YAAa1C,GAC9CN,EAAQK,QAAQ2C,iBAAiB,WAAYH,GACtC,WACL7C,EAAQK,QAAQ4C,oBAAoB,YAAa3C,GACjDN,EAAQK,QAAQ4C,oBAAoB,WAAYJ,OAGnD,CAAC7C,EAASE,IAGX,qCACE,qBAAKH,UAAWA,EAAWmD,IAAKlD,IAChC,uBAAOmD,MAAM,QAAQD,IAAKhD,Q,MCxEjB,SAASkD,IACtB,OACE,uBAAMC,GAAG,MAAT,UACE,2DAEA,0BAASF,MAAM,QAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,CAAUpD,UAAU,cACpB,cAAC,EAAD,CAAUA,UAAU,eACpB,cAAC,EAAD,CAAUA,UAAU,mBAMtB,0BAASoD,MAAM,OAAf,UACE,qBAAKA,MAAM,SACX,sBAAMA,MAAM,WAAZ,eACA,qBAAKA,MAAM,OAAX,SACE,iDAEF,sBAAMA,MAAM,WAAZ,eACA,qBAAKA,MAAM,OAAX,SACE,uDCtBV,IAAMG,EAAcC,SAASC,eAAe,QAC/BC,qBAAWH,GAEnBI,OACH,cAAC,aAAD,UACE,cAACN,EAAD,S","file":"static/js/main.c0c61102.chunk.js","sourcesContent":["import React, { useEffect, useRef } from \"react\";\n\nconst PokeCard = ({ className = \"card charizard\" }) => {\n  // document.querySelector => useRef\n  // https://reactjs.org/docs/hooks-reference.html\n  const cardRef = useRef();\n  const styleRef = useRef();\n  const timeoutRef = useRef();\n\n  // https://reactjs.org/docs/hooks-effect.html\n  useEffect(() => {\n    if (cardRef.current && styleRef.current) {\n      const fn = (e) => {\n        // normalise touch/mouse\n        let pos = [e.offsetX, e.offsetY];\n        e.preventDefault();\n        if (e.type === \"touchmove\") {\n          pos = [e.touches[0].clientX, e.touches[0].clientY];\n        }\n        // math for mouse position\n        let l = pos[0];\n        let t = pos[1];\n        let h = cardRef.current.clientHeight;\n        let w = cardRef.current.clientWidth;\n        let px = Math.abs(Math.floor((100 / w) * l) - 100);\n        let py = Math.abs(Math.floor((100 / h) * t) - 100);\n        let pa = 50 - px + (50 - py);\n        // math for gradient / background positions\n        let lp = 50 + (px - 50) / 1.5;\n        let tp = 50 + (py - 50) / 1.5;\n        let px_spark = 50 + (px - 50) / 7;\n        let py_spark = 50 + (py - 50) / 7;\n        let p_opc = 20 + Math.abs(pa) * 1.5;\n        let ty = ((tp - 50) / 2) * -1;\n        let tx = ((lp - 50) / 1.5) * 0.5;\n        // css to apply for active card\n        let grad_pos = `background-position: ${lp}% ${tp}%;`;\n        let sprk_pos = `background-position: ${px_spark}% ${py_spark}%;`;\n        let opc = `opacity: ${p_opc / 100};`;\n        let tf = `transform: rotateX(${ty}deg) rotateY(${tx}deg)`;\n        // need to use a <style> tag for psuedo elements\n        let style = `\n  .card:hover:before { ${grad_pos} }  /* gradient */\n  .card:hover:after { ${sprk_pos} ${opc} }   /* sparkles */ \n`;\n        // set / apply css class and style\n        cardRef.current.classList.remove(\"animated\");\n        cardRef.current.setAttribute(\"style\", tf);\n        styleRef.current.innerHTML = style;\n\n        if (e.type === \"touchmove\") {\n          return false;\n        }\n        clearTimeout(timeoutRef.current);\n      };\n\n      const fnMouseOut = (e) => {\n        styleRef.current.innerHTML = \"\";\n        cardRef.current.setAttribute(\"style\", \"\");\n        timeoutRef.current = setTimeout(function () {\n          cardRef.current.classList.add(\"animated\");\n        }, 2500);\n      };\n\n      cardRef.current.addEventListener(\"mousemove\", fn);\n      cardRef.current.addEventListener(\"mouseout\", fnMouseOut);\n      return () => {\n        cardRef.current.removeEventListener(\"mousemove\", fn);\n        cardRef.current.removeEventListener(\"mouseout\", fnMouseOut);\n      };\n    }\n  }, [cardRef, styleRef]);\n\n  return (\n    <>\n      <div className={className} ref={cardRef} />\n      <style class=\"hover\" ref={styleRef} />\n    </>\n  );\n};\n\nexport default PokeCard;\n","import { useEffect, useRef } from \"react\";\nimport PokeCard from \"./Components/PokeCard\";\nimport \"./styles.css\";\n\nexport default function App() {\n  return (\n    <main id=\"app\">\n      <h1>Pokemon Card, Holo Effect</h1>\n\n      <section class=\"cards\">\n        <PokeCard />\n        <PokeCard className=\"card pika\" />\n        <PokeCard className=\"card eevee\" />\n        <PokeCard className=\"card mewtwo\" />\n      </section>\n\n      {/* <style class=\"hover\" ref={styleRef}></style> */}\n      {/* => JSX <style /> */}\n\n      <section class=\"demo\">\n        <div class=\"card\"></div>\n        <span class=\"operator\">+</span>\n        <div class=\"card\">\n          <span>color-dodge</span>\n        </div>\n        <span class=\"operator\">+</span>\n        <div class=\"card\">\n          <span>color-dodge</span>\n        </div>\n      </section>\n    </main>\n  );\n}\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}